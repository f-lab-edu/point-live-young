# ADR-001: 인증 전략 - 세션 로그인 vs 토큰 로그인

---

## Status

---
**Accepted**

## Context

---

HTTP는 stateless 이므로 로그인 후 사용자의 인증 상태를 유지할 전략이 필요하다. 선택지는 크게 두 가지다.

- **1. 세션 기반 로그인**
    - 서버가 세션 저장소에 사용자 상태를 저장하고 클라이언트는 `sessionId` 쿠키로 식별한다.
    - **장점** : 구현 과정이 단순하다, 서버에서 강제 로그아웃/만료가 쉽다, 민감정보가 서버에 저장이 되어 있어 클라이언트에서는 보관하지 않는다.
    - **단점** : 사용자가 많아질수록 서버가 세션을 많이 관리해야 하고 서버가 분산환경에서는 세션 공유가 어렵다.

- **2. 토크 로그인 (JWT)**
    - 로그인하면 서버가 토큰(JWT)을 발급하고 클라이언트가 이걸 가지고 있는다.
    - **장점** : 서버는 상태를 저장하지 않아도 되어서 확장에 유리하다.
    - **단점** : 토큰이 유출되면 만료될 때까지 막을 수 없고 토큰 만료/재발급 처리를 해줘야 한다, 상대적으로 구현이 복잡하다.

## Decision

---

토큰 기반 로그인(JWT)을 적용하기로 결정했다.
- 서버 확장성을 고려할 때 토큰 기반 방식이 적합하다.
- Access Token + Refresh Token 방식을 도입하여 보안성과 편의성을 유지한다.

## Consequences

---
- 서버는 세션 저장소를 운영하지 않아도 됨 → 무상태(stateless) 아키텍처 유지 가능.
- Refresh Token은 DB에 저장하여 재발급 및 무효화 관리.
- 로그아웃 시 Refresh Token을 삭제하여 재발급을 차단.
- Access Token은 짧은 만료시간으로 발급해 보안성 강화.
- 서비스 초기부터 토큰 기반 구조를 적용했기 때문에 이후에 확장성 확보가 용이하다.