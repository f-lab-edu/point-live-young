# ADR-001: 인증 전략 - 세션 로그인 vs 토큰 로그인

---

## Status

---
**Accepted**

## Context

---

HTTP는 stateless 이므로 로그인 후 사용자의 인증 상태를 유지할 전략이 필요하다. 선택지는 크게 두 가지다.

- **1. 세션 기반 로그인**
    - 서버가 세션 저장소에 사용자 상태를 저장하고 클라이언트는 `sessionId` 쿠키로 식별한다.
    - **장점** : 구현 과정이 단순하다, 서버에서 강제 로그아웃/만료가 쉽다, 민감정보가 서버에 저장이 되어 있어 클라이언트에서는 보관하지 않는다.
    - **단점** : 사용자가 많아질수록 서버가 세션을 많이 관리해야 하고 서버가 분산환경에서는 세션 공유가 어렵다.

- **2. 토크 로그인 (JWT)**
    - 로그인하면 서버가 토큰(JWT)을 발급하고 클라이언트가 이걸 가지고 있는다.
    - **장점** : 서버는 상태를 저장하지 않아도 되어서 확장에 유리하다.
    - **단점** : 토큰이 유출되면 만료될 때까지 막을 수 없고 토큰 만료/재발급 처리를 해줘야 한다, 상대적으로 구현이 복잡하다.

## Decision

---
초기에는 서비스 규모가 크지 않다고 가정하고 상대적으로 구현이 간단한 **세션 로그인**을 먼저 적용하기로 했다.
하지만 나중에 서비스 규모가 커지게 된다면 **토큰 로그인 전환** 할 수 있다.

## Consequences

---
- 지금은 세션 로그인을 사용해서 서버에서 세션 저장소를 운영해야 한다.
- 사용자가 늘어나면 세션 관리가 서버에 부담이 될 수 있다.
- 토큰 로그인은 나중에 필요로 할 때 대비해서 공부해둬야 한다.